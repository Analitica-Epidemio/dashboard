[mypy]
# Configuración general balanceada para SQLModel
python_version = 3.11
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True
# Desactivar errores problemáticos con SQLModel (issue #267)
disable_error_code = var-annotated

# SQLModel y SQLAlchemy configurados con stubs

# Ignorar imports de terceros no tipados
ignore_missing_imports = False

# Configuraciones específicas para módulos
[mypy-pandas.*]
ignore_missing_imports = True

[mypy-openpyxl.*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-sqlmodel.*]
ignore_missing_imports = True

[mypy-alembic.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-celery.*]
ignore_missing_imports = True

[mypy-pydantic_settings.*]
ignore_missing_imports = True

[mypy-werkzeug.*]
ignore_missing_imports = True

[mypy-python_magic.*]
ignore_missing_imports = True

[mypy-aiofiles.*]
ignore_missing_imports = True

# Configuraciones específicas para FastAPI Users + SQLModel
[mypy-app.core.auth.user]
disable_error_code = misc

# Configuraciones específicas para problemas conocidos de SQLModel
[mypy-app.domains.etl.services.carga_masiva_epidemiologica.*]
disable_error_code = call-overload,union-attr,arg-type,call-arg,assignment,index,misc,name-defined,attr-defined

[mypy-app.core.base.repository]
disable_error_code = call-overload

[mypy-app.domains.ciudadanos.repository_etl]
disable_error_code = call-overload