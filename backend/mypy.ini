[mypy]
# Configuración ESTRICTA para detectar todos los errores
python_version = 3.11
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True

# STRICT MODE - Detecta errores de atributos y métodos
# No activar strict completo por compatibilidad con SQLModel
warn_unused_ignores = True
warn_redundant_casts = True
no_implicit_reexport = True

# FOLLOW IMPORTS - Analiza TODOS los archivos importados
follow_imports = normal
follow_imports_for_stubs = True

# Desactivar solo errores específicos de SQLModel
disable_error_code = var-annotated

# Ignorar imports de terceros no tipados
ignore_missing_imports = False

# Configuraciones específicas para módulos
[mypy-pandas.*]
ignore_missing_imports = True

[mypy-openpyxl.*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-sqlmodel.*]
ignore_missing_imports = True

[mypy-alembic.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-celery.*]
ignore_missing_imports = True

[mypy-pydantic_settings.*]
ignore_missing_imports = True

[mypy-werkzeug.*]
ignore_missing_imports = True

[mypy-python_magic.*]
ignore_missing_imports = True

[mypy-aiofiles.*]
ignore_missing_imports = True

# Configuraciones específicas para FastAPI Users + SQLModel
[mypy-app.core.auth.user]
disable_error_code = misc

# Configuraciones específicas para problemas conocidos de SQLModel
[mypy-app.domains.etl.services.carga_masiva_epidemiologica.*]
disable_error_code = call-overload,union-attr,arg-type,call-arg,assignment,index,misc,name-defined,attr-defined

[mypy-app.core.base.repository]
disable_error_code = call-overload

[mypy-app.domains.ciudadanos.repository_etl]
disable_error_code = call-overload